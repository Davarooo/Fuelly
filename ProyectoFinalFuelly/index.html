<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
    <title>Fuelly</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="css/estilos-generales.css">
    <script src="js/ofertas.js"></script>
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-transparent">
            <a class="navbar-brand" href="index.html">
                <img src="img/logo.png" alt="Logo" height="40">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="/productos.html">Productos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="ofertas.html">Ofertas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/contacto.html">Contáctenos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/login.html">Login</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <div class="container mt-4">
        <h2 class="text-center mb-4">Encuentra tu estación más cercana</h2>
        <div class="row align-items-center">
            <div class="col-md-4 text-center text-md-left">
                <img src="img/mapa.png" alt="Imagen de la App" style="max-width: 100%; height: auto;">
                <div class="text-center text-md-left">
                    <p>Aquí puede encontrar la ubicación de nuestra estación más cercana y aprovechar nuestras ofertas
                        disponibles.</p>
                </div>
            </div>
            <div class="col-md-8">
                <div class="map-container">
                    <!-- Punto de la estación 1 -->
                    <div class="station" style="top: 50%; left: 25%;"></div>
                    <div class="station-label" style="top: calc(50% + 15px); left: 25%;">Estación 1</div>

                    <!-- Punto de la estación 2 -->
                    <div class="station" style="top: 40%; left: 50%;"></div>
                    <div class="station-label" style="top: calc(40% + 15px); left: 50%;">Estación 2</div>

                    <!-- Punto de la estación 3 -->
                    <div class="station" style="top: 50%; left: 75%;"></div>
                    <div class="station-label" style="top: calc(50% + 15px); left: 75%;">Estación 3</div>

                    <!-- Punto de la estación 4 -->
                    <div class="station" style="top: 75%; left: 50%;"></div>
                    <div class="station-label" style="top: calc(75% + 15px); left: 50%;">Estación 4</div>

                    <!-- Punto de la estación 5 -->
                    <div class="station" style="top: 25%; left: 50%;"></div>
                    <div class="station-label" style="top: calc(25% + 15px); left: 50%;">Estación 5</div>

                    <!-- Punto de la estación 6 -->
                    <div class="station" style="top: 50%; left: 15%;"></div>
                    <div class="station-label" style="top: calc(50% + 15px); left: 15%;">Estación 6</div>

                    <!-- Punto de la estación 7 -->
                    <div class="station" style="top: 15%; left: 75%;"></div>
                    <div class="station-label" style="top: calc(15% + 15px); left: 75%;">Estación 7</div>

                    <!-- Punto de la estación 8 -->
                    <div class="station" style="top: 75%; left: 25%;"></div>
                    <div class="station-label" style="top: calc(75% + 15px); left: 25%;">Estación 8</div>
                </div>
            </div>
        </div>

        <br />

        <!-- Contenido -->
        <h2>Mejores Estaciones</h2>
        <!-- Carrusel de imágenes -->

        <!-- Carrusel de imágenes de estaciones con ofertas -->
        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                <!-- Aquí se cargarán dinámicamente las tarjetas de las estaciones con ofertas -->
            </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <!-- Corregimos el href aquí -->
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <!-- Corregimos el href aquí -->
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>

        <!-- <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="card">
                                <img src="img/estacion1.jpeg" class="card-img-top" alt="Estación 1">
                                <div class="card-body">
                                    <h5 class="card-title">Nombre de la Estación 1</h5>
                                    <p class="card-text">Descripción breve de la Estación 1.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card">
                                <img src="img/estacion2.png" class="card-img-top" alt="Estación 2">
                                <div class="card-body">
                                    <h5 class="card-title">Nombre de la Estación 2</h5>
                                    <p class="card-text">Descripción breve de la Estación 2.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card">
                                <img src="img/estacion3.png" class="card-img-top" alt="Estación 3">
                                <div class="card-body">
                                    <h5 class="card-title">Nombre de la Estación 3</h5>
                                    <p class="card-text">Descripción breve de la Estación 3.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card">
                                <img src="img/estacion4.jpg" class="card-img-top" alt="Estación 4">
                                <div class="card-body">
                                    <h5 class="card-title">Nombre de la Estación 4</h5>
                                    <p class="card-text">Descripción breve de la Estación 4.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="card">
                                <img src="img/estacion5.png" class="card-img-top" alt="Estación 1">
                                <div class="card-body">
                                    <h5 class="card-title">Nombre de la Estación 5</h5>
                                    <p class="card-text">Descripción breve de la Estación 5.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card">
                                <img src="img/estacion6.png" class="card-img-top" alt="Estación 2">
                                <div class="card-body">
                                    <h5 class="card-title">Nombre de la Estación 6</h5>
                                    <p class="card-text">Descripción breve de la Estación 6.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card">
                                <img src="img/estacion7.jpg" class="card-img-top" alt="Estación 3">
                                <div class="card-body">
                                    <h5 class="card-title">Nombre de la Estación 7</h5>
                                    <p class="card-text">Descripción breve de la Estación 7.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card">
                                <img src="img/estacion8.jpg" class="card-img-top" alt="Estación 4">
                                <div class="card-body">
                                    <h5 class="card-title">Nombre de la Estación 8</h5>
                                    <p class="card-text">Descripción breve de la Estación 8.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div> -->

        <div class="row mt-4">
            <div class="col">
                <h2 class="mb-3">Categorías de Productos</h2>
                <div class="categories-buttons" role="group" aria-label="Categorías de Productos">
                    <button type="button" class="btn btn-primary category-button">
                        <i class="fas fa-gas-pump mr-2"></i> Gasolina
                    </button>
                    <button type="button" class="btn btn-primary category-button">
                        <i class="fas fa-oil-can mr-2"></i> Lubricantes
                    </button>
                    <button type="button" class="btn btn-primary category-button">
                        <i class="fas fa-spray-can mr-2"></i> Productos de Limpieza
                    </button>
                    <button type="button" class="btn btn-primary category-button">
                        <i class="fas fa-cookie-bite mr-2"></i> Snacks y Bebidas
                    </button>
                    <button type="button" class="btn btn-primary category-button">
                        <i class="fas fa-car mr-2"></i> Neumáticos
                    </button>
                    <button type="button" class="btn btn-primary category-button">
                        <i class="fas fa-hand-holding-water mr-2"></i> Servicio de Lavado
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-4">
        <div class="container">
            <p class="mb-0">Derechos reservados &copy; 2024. Hecho con amor en CESDE</p>
        </div>
    </footer>

    <!-- Scripts de Bootstrap -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        function cargarEstacionesConOfertas() {
            const carouselInner = document.querySelector('.carousel-inner');
            const offersGrouped = groupOffers(4); // Agrupar las ofertas de 4 en 4

            // Recorremos las ofertas agrupadas y creamos las tarjetas de las estaciones
            offersGrouped.forEach((group, index) => {
                const itemClass = index === 0 ? 'carousel-item active' : 'carousel-item'; // Asignamos las clases aquí

                // Creamos un nuevo elemento div con la clase 'carousel-item' y opcionalmente 'active'
                const carouselItem = document.createElement('div');
                carouselItem.className = itemClass; // Corregimos aquí
                carouselItem.innerHTML = `
            <div class="row"> <!-- Agregamos la clase 'row' aquí -->
                ${group.map(offer => `
                    <div class="col-md-3">
                        <div class="card">
                            <img src="${offer.logo}" class="card-img-top" alt="${offer.stationName}">
                            <div class="card-body">
                                <h5 class="card-title">${offer.stationName}</h5>
                                <p class="card-text">${offer.conditions}</p>
                            </div>
                        </div>
                    </div>
                `).join('')}
            </div>
        `;

                carouselInner.appendChild(carouselItem);
            });
        }

        // Función para agrupar las ofertas en grupos de n elementos
        function groupOffers(groupSize) {
            const groupedOffers = [];
            for (let i = 0; i < offers.length; i += groupSize) {
                groupedOffers.push(offers.slice(i, i + groupSize));
            }
            return groupedOffers;
        }

        // Llamamos a la función para cargar las estaciones con ofertas al cargar la página
        window.addEventListener('load', cargarEstacionesConOfertas);
    </script>

</body>

</html>